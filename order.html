<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>513W Order</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="stylesheet.css" type='text/css'>
        <link href='https://fonts.googleapis.com/css?family=Lato:400,900' rel='stylesheet' type='text/css'>
    </head>  
    <script>
        //function to validate the input of the form
        // need to add security for this
        function validateForm() {
            //name
            var name = document.forms["myForm"]["name"].value;
            if (name == "") {
                alert("Please enter your name");
                return false;
            }
            //prefered contact method
            if(phone) {
                var phone = document.forms["myForm"]["phone"].value;
                if(phone.length != 10) {
                    alert("Please enter your phone number in the form 1234567890");
                    return false;
                }
            }else if(!phone) {
                var email = document.forms["myForm"]["email"].value;
                if(email.indexOf("@") == -1 || email.indexOf(".") == -1) {
                    alert("Please enter a valid email address");
                    return false;
                }
            }
            //address
            var address = document.forms["myForm"]["address"].value;
            if (address == "") {
                alert("Please enter an address");
                return false;
            }
            //special instructions
            var instructions = document.forms["myForm"]["instructions"].value;

        }
        
        //function to update the UI based on the selected item in the prefered contact dropdown
        var phone = false; //if false then email was selected
        function updateUI_preferedContact() {
            var x = document.getElementById("contact_type").value;
            var email = document.getElementById("email_div");
            var phone = document.getElementById("phone_div");
            if (x == "email") {
                email.style.display = "block";
                phone.style.display = "none";
            } else if (x == "phone") {
                email.style.display = "none";
                phone.style.display = "block";
            }
        }
    </script>
    <body>
        <div id="wrapper">
            <div id="header">
                <h1>513 Woodworking</h1>         
            </div>
            <div id="menu">
                <ul class="animatedunderlinemenu expand">
                    <li><a href="index.html">Tables</a></li>
                    <li><a href="build_info.html">Build Information</a></li>
                    <li><a href="delivery.html">Delivery</a></li>
                    <li><a href="pricing.html">Pricing</a></li>
                    <li><a href="order.html">Checkout</a></li>
                </ul>
            </div>
        </div>
        <div style="margin-left: 50px;">
            <h1>Checkout</h1>
        </div>
        <div>
            <div class="split cart">
                <!--Cart Summary-->
                <div>
                    <table>
                        <tr>
                            <th>Item</th>
                            <th>Quantity</th>
                            <th>Cost</th>
                        </tr>
                        <!-- dummy table data just for demonstration-->
                        <tr>
                            <td>Light Base: End Shelf, Bonus Shelf</td>
                            <td>1</td>
                            <td>$100</td>
                        </tr>
                        <tr>
                            <td>Treated Base: Sanded Top</td>
                            <td>2</td>
                            <td>$420</td>
                        </tr>
                    </table>
                    <!-- total cost -->
                    <div class="total">
                        <p>Subtotal: $600.00</p>
                        <p>Tax: $60.21</p>
                        <p>Shipping: $0.00</p>
                        <p>Total: $660.21</p>
                    </div>
                </div>
            </div>
            <div class="split order-form">
                <form action="order.php" method="post">
                    <div class="form-group">
                        <label for="name" class="form-labels">Name:</label>
                        <input type="text" class="form-control" id="name" name="name" placeholder="Enter name">
                    </div>
                    <div class="form-group">
                        <label for="contact_type" class="form-labels">Prefered Contact:</label>
                        <select class="form-control" id="contact_type" name="contact_type" onchange="updateUI_preferedContact()"> 
                            <option value="phone" selected>Phone</option>
                            <option value="email">Email</option>
                        </select>
                    </div>
                    <div class="form-group hidden" id="email_div">
                        <label for="email" class="form-labels">Email:</label>
                        <input type="email" class="form-control" id="email" name="email" placeholder="Enter email">
                    </div>
                    <div class="form-group " id="phone_div">
                        <label for="phone" class="form-labels">Phone:</label>
                        <input type="text" class="form-control" id="phone" name="phone" placeholder="Enter phone number">
                    </div>
                    <div class="form-group">
                        <label for="address" class="form-labels">Address:</label>
                        <input type="text" class="form-control" id="address" name="address" placeholder="Enter address">
                    </div>
                    <div class="form-group">
                        <!-- Addon dropdown-->

                    </div>
                    <div class="form-group">
                        <label for="special" class="form-labels">Special requests:</label>
                        <textarea class="form-control" id="special" name="special" rows="3"></textarea>
                    </div>
                    <button type="submit" class="btn btn-default">Submit</button>
                </form>
            </div>
        </div>
        <footer>Email me for more details at <a href="mailto: blongstreth@zagmail.gonzaga.edu">blongstreth@zagmail.gonzaga.edu</a></footer>
        <script src="" async defer></script>
    </body>
</html>